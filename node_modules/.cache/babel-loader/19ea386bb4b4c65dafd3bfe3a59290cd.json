{"ast":null,"code":"import { SUB_WINDOW_IDNTIFICATION_KEY as t, STORE_KEY as n, INVALID_CONFIG as i } from \"@liff/consts\";\nimport { createLiffError as e, isSubWindow as o } from \"@liff/util\";\nimport { getConfig as r } from \"@liff/store\";\nimport { isInClient as f } from \"@liff/is-in-client\";\n\nvar u = function () {\n  function t() {}\n\n  return t.prototype.invoke = function () {\n    return o();\n  }, t;\n}(),\n    s = function () {\n  function o(t) {\n    this.storage = t;\n  }\n\n  return Object.defineProperty(o, \"IN_SUB_WINDOW_KEY\", {\n    get: function () {\n      return \"inSubWindow\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), o.prototype.invoke = function () {\n    return !(!this.getInSubWindow() && !this.getSubWindowIdentifier()) || !!new URLSearchParams(window.location.search).has(t) && (this.setInSubWindow(!0), !0);\n  }, o.prototype.getInSubWindow = function () {\n    var t = this.storage.getItem(n + \":\" + this.getLiffId() + \":\" + o.IN_SUB_WINDOW_KEY);\n    return null !== t && JSON.parse(t);\n  }, o.prototype.getSubWindowIdentifier = function () {\n    var t,\n        n,\n        i = \"liff.subwindow.identifier\",\n        e = new URLSearchParams(window.location.search);\n    return e.get(i) || (t = i, (n = e.get(\"liff.state\")) ? new URLSearchParams(n).get(t) : null) || null;\n  }, o.prototype.setInSubWindow = function (t) {\n    this.storage.setItem(n + \":\" + this.getLiffId() + \":\" + o.IN_SUB_WINDOW_KEY, String(t));\n  }, o.prototype.getLiffId = function () {\n    var t = r().liffId;\n    if (!t) throw e(i, \"liffId is necessary for liff.init()\");\n    return t;\n  }, o;\n}(),\n    a = function () {\n  function t() {\n    f() ? this.impl = new u() : this.impl = new s(window.sessionStorage);\n  }\n\n  return Object.defineProperty(t.prototype, \"name\", {\n    get: function () {\n      return \"isSubWindow\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.install = function () {\n    return this.impl.invoke.bind(this.impl);\n  }, t;\n}(),\n    l = new a(),\n    c = l.install();\n\nexport { a as IsSubWindowModule, c as isSubWindow, l as module };","map":{"version":3,"names":["SUB_WINDOW_IDNTIFICATION_KEY","t","STORE_KEY","n","INVALID_CONFIG","i","createLiffError","e","isSubWindow","o","getConfig","r","isInClient","f","u","prototype","invoke","s","storage","Object","defineProperty","get","enumerable","configurable","getInSubWindow","getSubWindowIdentifier","URLSearchParams","window","location","search","has","setInSubWindow","getItem","getLiffId","IN_SUB_WINDOW_KEY","JSON","parse","setItem","String","liffId","a","impl","sessionStorage","install","bind","l","c","IsSubWindowModule","module"],"sources":["C:/Users/ASUS/Desktop/linetest/node_modules/@liff/is-sub-window/lib/index.es.js"],"sourcesContent":["import{SUB_WINDOW_IDNTIFICATION_KEY as t,STORE_KEY as n,INVALID_CONFIG as i}from\"@liff/consts\";import{createLiffError as e,isSubWindow as o}from\"@liff/util\";import{getConfig as r}from\"@liff/store\";import{isInClient as f}from\"@liff/is-in-client\";var u=function(){function t(){}return t.prototype.invoke=function(){return o()},t}(),s=function(){function o(t){this.storage=t}return Object.defineProperty(o,\"IN_SUB_WINDOW_KEY\",{get:function(){return\"inSubWindow\"},enumerable:!1,configurable:!0}),o.prototype.invoke=function(){return!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())||!!new URLSearchParams(window.location.search).has(t)&&(this.setInSubWindow(!0),!0)},o.prototype.getInSubWindow=function(){var t=this.storage.getItem(n+\":\"+this.getLiffId()+\":\"+o.IN_SUB_WINDOW_KEY);return null!==t&&JSON.parse(t)},o.prototype.getSubWindowIdentifier=function(){var t,n,i=\"liff.subwindow.identifier\",e=new URLSearchParams(window.location.search);return e.get(i)||(t=i,(n=e.get(\"liff.state\"))?new URLSearchParams(n).get(t):null)||null},o.prototype.setInSubWindow=function(t){this.storage.setItem(n+\":\"+this.getLiffId()+\":\"+o.IN_SUB_WINDOW_KEY,String(t))},o.prototype.getLiffId=function(){var t=r().liffId;if(!t)throw e(i,\"liffId is necessary for liff.init()\");return t},o}(),a=function(){function t(){f()?this.impl=new u:this.impl=new s(window.sessionStorage)}return Object.defineProperty(t.prototype,\"name\",{get:function(){return\"isSubWindow\"},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t}(),l=new a,c=l.install();export{a as IsSubWindowModule,c as isSubWindow,l as module};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}