{"ast":null,"code":"import { __awaiter as e, __generator as t, __values as n, __spread as r } from \"tslib\";\nimport { PERMISSION_NAMES as i, INVALID_ARGUMENT as o, UNAUTHORIZED as s, FORBIDDEN as a, UNKNOWN as u } from \"@liff/consts\";\nimport { createLiffError as c, extractChannelIdFromLiffId as f } from \"@liff/util\";\nimport { getContext as l, getAccessToken as h, getConfig as p, setAccessToken as d } from \"@liff/store\";\nimport { verifyAccessToken as v, fetch as m, getEndPoint as w } from \"@liff/server-api\";\nimport { isInClient as b } from \"@liff/is-in-client\";\nimport { subWindow as y } from \"@liff/sub-window\";\nimport { isApiAvailable as C } from \"@liff/is-api-available\";\n\nfunction g(r) {\n  return e(this, void 0, void 0, function () {\n    var e, a, u, f, p, d, m;\n    return t(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return function (e) {\n            if (!i.includes(e)) throw c(o, \"Unexpected permission name.\");\n            var t = l();\n            return !!(null == t ? void 0 : t.scope.includes(e));\n          }(r) ? (e = h()) ? [4, v(e)] : [3, 2] : [2, {\n            state: \"unavailable\"\n          }];\n\n        case 1:\n          a = t.sent(), u = unescape(a.scope).split(\" \");\n\n          try {\n            for (f = n(u), p = f.next(); !p.done; p = f.next()) if (p.value.includes(r)) return [2, {\n              state: \"granted\"\n            }];\n          } catch (w) {\n            d = {\n              error: w\n            };\n          } finally {\n            try {\n              p && !p.done && (m = f.return) && m.call(f);\n            } finally {\n              if (d) throw d.error;\n            }\n          }\n\n          return [2, {\n            state: \"prompt\"\n          }];\n\n        case 2:\n          throw c(s, \"LiffId is not found.\");\n      }\n    });\n  });\n}\n\nfunction I() {\n  var e,\n      t,\n      n = l();\n  return !!n && \"square_chat\" !== n.type && (C(\"skipChannelVerificationScreen\") || !b() && (null === (t = null === (e = n.availability) || void 0 === e ? void 0 : e.skipChannelVerificationScreen) || void 0 === t ? void 0 : t.permission));\n}\n\nfunction k() {\n  var e = p().liffId;\n  if (e) return m(w(\"unauthorizedPermissions\") + \"?liffId=\" + e, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + h()\n    }\n  });\n  throw c(s, \"liffId is required\");\n}\n\nvar j,\n    A = y.on,\n    S = y.off,\n    T = y.open,\n    q = function () {\n  function n(n, r) {\n    var i = this;\n    this.onSubmit = function (n) {\n      var r = n.newAccessToken,\n          o = n.ICA_ERROR;\n      return e(i, void 0, void 0, function () {\n        return t(this, function (e) {\n          return r ? this.resolve({\n            newAccessToken: r\n          }) : o && this.reject(c(u, o)), this.teardown(), [2];\n        });\n      });\n    }, this.onClose = function () {\n      return e(i, void 0, void 0, function () {\n        return t(this, function (e) {\n          return this.reject(c(s, \"user didn't allow the agreement\")), this.teardown(), [2];\n        });\n      });\n    }, this.onCancel = function () {\n      return e(i, void 0, void 0, function () {\n        return t(this, function (e) {\n          return this.reject(c(s, \"user didn't allow the agreement\")), this.teardown(), [2];\n        });\n      });\n    }, this.onError = function (n) {\n      return e(i, void 0, void 0, function () {\n        return t(this, function (e) {\n          return this.reject(n), this.teardown(), [2];\n        });\n      });\n    }, this.resolve = n, this.reject = r, this.setup();\n  }\n\n  return n.prototype.setup = function () {\n    A(\"submit\", this.onSubmit), A(\"close\", this.onClose), A(\"cancel\", this.onCancel), A(\"error\", this.onError);\n  }, n.prototype.teardown = function () {\n    S(\"submit\", this.onSubmit), S(\"close\", this.onClose), S(\"cancel\", this.onCancel), S(\"error\", this.onError), j = void 0;\n  }, n.prototype.open = function () {\n    var e = p().liffId;\n    e ? T({\n      url: \"https://liff.line.me/1656032314-Xgrw5Pmk\",\n      appData: {\n        liffId: e,\n        channelId: f(e),\n        accessToken: h()\n      }\n    }) : this.reject(c(s, \"liffId is required\"));\n  }, n;\n}();\n\nfunction x() {\n  return e(this, void 0, void 0, function () {\n    var e, n;\n    return t(this, function (t) {\n      switch (t.label) {\n        case 0:\n          if (!I()) throw c(a, \"SkipChannelVerificationScreen is unavailable.\");\n          return j && j.teardown(), [4, k()];\n\n        case 1:\n          return e = t.sent(), (b() ? e : e.filter(function (e) {\n            return \"chat_message.write\" !== e;\n          })).length > 0 ? [4, new Promise(function (e, t) {\n            (j = new q(e, t)).open();\n          })] : [3, 3];\n\n        case 2:\n          return n = t.sent().newAccessToken, d(n), [3, 4];\n\n        case 3:\n          throw c(a, \"All permissions have already been approved.\");\n\n        case 4:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction E(n, i) {\n  var o = this;\n  return function () {\n    for (var s = [], u = 0; u < arguments.length; u++) s[u] = arguments[u];\n\n    return e(o, void 0, void 0, function () {\n      var e, o, u;\n      return t(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return e = (s.length > 0 ? s[s.length - 1] : {}).ignorePermissionCheck, o = void 0 !== e && e, [4, g(i)];\n\n          case 1:\n            if (\"unavailable\" !== (u = t.sent().state)) return [3, 2];\n            throw c(a, \"The permission is not in LIFF app scope.\");\n\n          case 2:\n            return \"prompt\" !== u || !I() || o || !b() && \"chat_message.write\" === i ? [3, 4] : [4, x()];\n\n          case 3:\n            return t.sent(), [3, 5];\n\n          case 4:\n            o && s.pop(), t.label = 5;\n\n          case 5:\n            return [4, n.apply(void 0, r(s))];\n\n          case 6:\n            return [2, t.sent()];\n        }\n      });\n    });\n  };\n}\n\nvar P = function () {\n  function e() {\n    this.name = \"permission\";\n  }\n\n  return e.prototype.install = function () {\n    return {\n      query: g,\n      requestAll: x\n    };\n  }, e;\n}(),\n    _ = new P();\n\nexport { P as PermissionModule, E as attachChecker, _ as module };","map":{"version":3,"names":["__awaiter","e","__generator","t","__values","n","__spread","r","PERMISSION_NAMES","i","INVALID_ARGUMENT","o","UNAUTHORIZED","s","FORBIDDEN","a","UNKNOWN","u","createLiffError","c","extractChannelIdFromLiffId","f","getContext","l","getAccessToken","h","getConfig","p","setAccessToken","d","verifyAccessToken","v","fetch","m","getEndPoint","w","isInClient","b","subWindow","y","isApiAvailable","C","g","label","includes","scope","state","sent","unescape","split","next","done","value","error","return","call","I","type","availability","skipChannelVerificationScreen","permission","k","liffId","headers","Accept","Authorization","j","A","on","S","off","T","open","q","onSubmit","newAccessToken","ICA_ERROR","resolve","reject","teardown","onClose","onCancel","onError","setup","prototype","url","appData","channelId","accessToken","x","filter","length","Promise","E","arguments","ignorePermissionCheck","pop","apply","P","name","install","query","requestAll","_","PermissionModule","attachChecker","module"],"sources":["C:/Users/ASUS/Desktop/linetest/node_modules/@liff/permission/lib/index.es.js"],"sourcesContent":["import{__awaiter as e,__generator as t,__values as n,__spread as r}from\"tslib\";import{PERMISSION_NAMES as i,INVALID_ARGUMENT as o,UNAUTHORIZED as s,FORBIDDEN as a,UNKNOWN as u}from\"@liff/consts\";import{createLiffError as c,extractChannelIdFromLiffId as f}from\"@liff/util\";import{getContext as l,getAccessToken as h,getConfig as p,setAccessToken as d}from\"@liff/store\";import{verifyAccessToken as v,fetch as m,getEndPoint as w}from\"@liff/server-api\";import{isInClient as b}from\"@liff/is-in-client\";import{subWindow as y}from\"@liff/sub-window\";import{isApiAvailable as C}from\"@liff/is-api-available\";function g(r){return e(this,void 0,void 0,(function(){var e,a,u,f,p,d,m;return t(this,(function(t){switch(t.label){case 0:return function(e){if(!i.includes(e))throw c(o,\"Unexpected permission name.\");var t=l();return!!(null==t?void 0:t.scope.includes(e))}(r)?(e=h())?[4,v(e)]:[3,2]:[2,{state:\"unavailable\"}];case 1:a=t.sent(),u=unescape(a.scope).split(\" \");try{for(f=n(u),p=f.next();!p.done;p=f.next())if(p.value.includes(r))return[2,{state:\"granted\"}]}catch(w){d={error:w}}finally{try{p&&!p.done&&(m=f.return)&&m.call(f)}finally{if(d)throw d.error}}return[2,{state:\"prompt\"}];case 2:throw c(s,\"LiffId is not found.\")}}))}))}function I(){var e,t,n=l();return!!n&&(\"square_chat\"!==n.type&&(C(\"skipChannelVerificationScreen\")||!b()&&(null===(t=null===(e=n.availability)||void 0===e?void 0:e.skipChannelVerificationScreen)||void 0===t?void 0:t.permission)))}function k(){var e=p().liffId;if(e)return m(w(\"unauthorizedPermissions\")+\"?liffId=\"+e,{headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"Bearer \"+h()}});throw c(s,\"liffId is required\")}var j,A=y.on,S=y.off,T=y.open,q=function(){function n(n,r){var i=this;this.onSubmit=function(n){var r=n.newAccessToken,o=n.ICA_ERROR;return e(i,void 0,void 0,(function(){return t(this,(function(e){return r?this.resolve({newAccessToken:r}):o&&this.reject(c(u,o)),this.teardown(),[2]}))}))},this.onClose=function(){return e(i,void 0,void 0,(function(){return t(this,(function(e){return this.reject(c(s,\"user didn't allow the agreement\")),this.teardown(),[2]}))}))},this.onCancel=function(){return e(i,void 0,void 0,(function(){return t(this,(function(e){return this.reject(c(s,\"user didn't allow the agreement\")),this.teardown(),[2]}))}))},this.onError=function(n){return e(i,void 0,void 0,(function(){return t(this,(function(e){return this.reject(n),this.teardown(),[2]}))}))},this.resolve=n,this.reject=r,this.setup()}return n.prototype.setup=function(){A(\"submit\",this.onSubmit),A(\"close\",this.onClose),A(\"cancel\",this.onCancel),A(\"error\",this.onError)},n.prototype.teardown=function(){S(\"submit\",this.onSubmit),S(\"close\",this.onClose),S(\"cancel\",this.onCancel),S(\"error\",this.onError),j=void 0},n.prototype.open=function(){var e=p().liffId;e?T({url:\"https://liff.line.me/1656032314-Xgrw5Pmk\",appData:{liffId:e,channelId:f(e),accessToken:h()}}):this.reject(c(s,\"liffId is required\"))},n}();function x(){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:if(!I())throw c(a,\"SkipChannelVerificationScreen is unavailable.\");return j&&j.teardown(),[4,k()];case 1:return e=t.sent(),(b()?e:e.filter((function(e){return\"chat_message.write\"!==e}))).length>0?[4,new Promise((function(e,t){(j=new q(e,t)).open()}))]:[3,3];case 2:return n=t.sent().newAccessToken,d(n),[3,4];case 3:throw c(a,\"All permissions have already been approved.\");case 4:return[2]}}))}))}function E(n,i){var o=this;return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return e(o,void 0,void 0,(function(){var e,o,u;return t(this,(function(t){switch(t.label){case 0:return e=(s.length>0?s[s.length-1]:{}).ignorePermissionCheck,o=void 0!==e&&e,[4,g(i)];case 1:if(\"unavailable\"!==(u=t.sent().state))return[3,2];throw c(a,\"The permission is not in LIFF app scope.\");case 2:return\"prompt\"!==u||!I()||o||!b()&&\"chat_message.write\"===i?[3,4]:[4,x()];case 3:return t.sent(),[3,5];case 4:o&&s.pop(),t.label=5;case 5:return[4,n.apply(void 0,r(s))];case 6:return[2,t.sent()]}}))}))}}var P=function(){function e(){this.name=\"permission\"}return e.prototype.install=function(){return{query:g,requestAll:x}},e}(),_=new P;export{P as PermissionModule,E as attachChecker,_ as module};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}