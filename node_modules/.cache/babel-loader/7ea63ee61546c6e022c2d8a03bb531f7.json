{"ast":null,"code":"import { INVALID_CONFIG as i } from \"@liff/consts\";\nimport { logger as o } from \"@liff/logger\";\nimport { hexToBase64 as r, randomAlphaNumericString as e, createLiffError as f, qs as t } from \"@liff/util\";\nimport { getConfig as n, setLoginTmp as l } from \"@liff/store\";\nimport { getEndPoint as d } from \"@liff/server-api\";\nimport { getVersion as p } from \"@liff/get-version\";\nimport { isSubWindow as c } from \"@liff/is-sub-window\";\nimport { isInClient as s } from \"@liff/is-in-client\";\nimport a from \"tiny-sha256\";\nimport { SyncHook as m } from \"@liff/hooks\";\nimport { getMessageBus as u } from \"@liff/sub-window\";\n\nvar g = function () {\n  function g() {\n    this.hooks = {\n      before: new m()\n    };\n  }\n\n  return Object.defineProperty(g.prototype, \"name\", {\n    get: function () {\n      return \"login\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), g.prototype.install = function () {\n    return this.login.bind(this);\n  }, g.prototype.login = function (m) {\n    var g;\n    this.hooks.before.call(m);\n\n    var h = e(43),\n        _ = r(a(h)).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\"),\n        b = n();\n\n    if (!b || !b.liffId) throw f(i, \"You need to define `liffId` for liff.login()\");\n    var v = {\n      app_id: b.liffId,\n      state: e(12),\n      response_type: \"code\",\n      code_challenge_method: \"S256\",\n      code_challenge: _,\n      liff_sdk_version: p()\n    };\n    m && m.redirectUri && (v.redirect_uri = m.redirectUri), c() && !s() && ((null === (g = u()) || void 0 === g ? void 0 : g.isReady()) ? v.redirect_uri = window.location.href : v.disable_auto_login = \"true\"), l({\n      codeVerifier: h\n    });\n    var w = d(\"authorize\") + \"?\" + t.stringify(v);\n    o.debug(\"[Redirect] \" + w), window.location.href = w;\n  }, g;\n}();\n\nexport { g as LoginModule };","map":{"version":3,"names":["INVALID_CONFIG","i","logger","o","hexToBase64","r","randomAlphaNumericString","e","createLiffError","f","qs","t","getConfig","n","setLoginTmp","l","getEndPoint","d","getVersion","p","isSubWindow","c","isInClient","s","a","SyncHook","m","getMessageBus","u","g","hooks","before","Object","defineProperty","prototype","get","enumerable","configurable","install","login","bind","call","h","_","replace","b","liffId","v","app_id","state","response_type","code_challenge_method","code_challenge","liff_sdk_version","redirectUri","redirect_uri","isReady","window","location","href","disable_auto_login","codeVerifier","w","stringify","debug","LoginModule"],"sources":["C:/Users/ASUS/Desktop/linetest/node_modules/@liff/login/lib/index.es.js"],"sourcesContent":["import{INVALID_CONFIG as i}from\"@liff/consts\";import{logger as o}from\"@liff/logger\";import{hexToBase64 as r,randomAlphaNumericString as e,createLiffError as f,qs as t}from\"@liff/util\";import{getConfig as n,setLoginTmp as l}from\"@liff/store\";import{getEndPoint as d}from\"@liff/server-api\";import{getVersion as p}from\"@liff/get-version\";import{isSubWindow as c}from\"@liff/is-sub-window\";import{isInClient as s}from\"@liff/is-in-client\";import a from\"tiny-sha256\";import{SyncHook as m}from\"@liff/hooks\";import{getMessageBus as u}from\"@liff/sub-window\";var g=function(){function g(){this.hooks={before:new m}}return Object.defineProperty(g.prototype,\"name\",{get:function(){return\"login\"},enumerable:!1,configurable:!0}),g.prototype.install=function(){return this.login.bind(this)},g.prototype.login=function(m){var g;this.hooks.before.call(m);var h=e(43),_=r(a(h)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\"),b=n();if(!b||!b.liffId)throw f(i,\"You need to define `liffId` for liff.login()\");var v={app_id:b.liffId,state:e(12),response_type:\"code\",code_challenge_method:\"S256\",code_challenge:_,liff_sdk_version:p()};m&&m.redirectUri&&(v.redirect_uri=m.redirectUri),c()&&!s()&&((null===(g=u())||void 0===g?void 0:g.isReady())?v.redirect_uri=window.location.href:v.disable_auto_login=\"true\"),l({codeVerifier:h});var w=d(\"authorize\")+\"?\"+t.stringify(v);o.debug(\"[Redirect] \"+w),window.location.href=w},g}();export{g as LoginModule};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}