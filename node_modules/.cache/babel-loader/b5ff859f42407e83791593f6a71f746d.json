{"ast":null,"code":"import { __assign as e, __awaiter as t, __generator as r, __read as n } from \"tslib\";\nimport { done as o } from \"@liff/ready\";\nimport { isLoggedIn as i } from \"@liff/is-logged-in\";\nimport { convertHexToRgb as a, convertArgbToRgba as s, createLiffError as l, base64Url as c, convertArrayBuffer as u, compareVersion as f, qs as d, extractChannelIdFromLiffId as h, objectAssignKeyOnlyWithValue as p, addParamsToUrl as v, randomAlphaNumericString as m, replaceUrlCredentialRemoved as w } from \"@liff/util\";\nimport { getContext as b, getLoginTmp as g, getExpireTime as k, getIsSubsequentLiffApp as C, getFeatureToken as F, setIsSubsequentLiffApp as _, getMST as y, getAccessToken as I, getRawContext as B, getIDToken as S, getClientId as x, getMSTChallenge as T, getMSTVerifier as A, getMSIT as E, getConfig as L, setDecodedIDToken as N, setAppData as U, setMST as D, setFeatureToken as O, setAccessToken as P, setContext as W, setMSTChallenge as K, setMSTVerifier as M, setClientId as R, setMSIT as j, setIDToken as H, getDecodedIDToken as J, removeLoginTmp as V, setExpireTime as q, setConfig as z } from \"@liff/store\";\nimport { load as G } from \"@liff/extensions\";\nimport { INIT_FAILED as Q, INVALID_ID_TOKEN as X, FORBIDDEN as Y, SUB_WINDOW_HEALTH_CHECK_MESSAGE as Z, SUB_WINDOW_STATUS as $, INVALID_CONFIG as ee } from \"@liff/consts\";\nimport { isInClient as te } from \"@liff/is-in-client\";\nimport { logout as re } from \"@liff/logout\";\nimport { isSubWindow as ne } from \"@liff/is-sub-window\";\nimport { getMSTByMSIT as oe, getAppData as ie, getMainWindowOrigin as ae, setMainWindowOrigin as se, getMessageBus as le, initMessageBus as ce } from \"@liff/sub-window\";\nimport { fetch as ue, getEndPoint as fe, verifyAccessToken as de } from \"@liff/server-api\";\nimport { logger as he } from \"@liff/logger\";\nimport { getLineVersion as pe } from \"@liff/get-line-version\";\nimport { addListener as ve, removeListener as me } from \"@liff/native-bridge\";\nimport { isApiAvailable as we } from \"@liff/is-api-available\";\nimport { getOS as be } from \"@liff/get-os\";\nimport { closeWindow as ge } from \"@liff/close-window\";\nimport { EVENT_NAME as ke, WINDOW as Ce, IDENTIFIER_KEY as Fe } from \"@liff/message-bus\";\nimport { AsyncHook as _e } from \"@liff/hooks\";\nvar ye = {\n  iconColor: \"#111111\",\n  statusBarColor: \"BLACK\",\n  titleTextColor: \"#111111\",\n  titleSubtextColor: \"#B7B7B7\",\n  titleButtonColor: \"#111111\",\n  titleBackgroundColor: \"#FFFFFF\",\n  progressBarColor: \"#06C755\",\n  progressBackgroundColor: \"#FFFFFF\",\n  titleButtonAreaBackgroundColor: \"#1FFFFFFF\",\n  titleButtonAreaBorderColor: \"#26000000\",\n  baseBackgroundColor: \"#FFFFFF\",\n  baseTextColor: \"#000000\",\n  lightButtonBorderColor: \"rgba(0, 0, 0, 0.15)\"\n},\n    Ie = {\n  iconColor: \"#FFFFFF\",\n  statusBarColor: \"WHITE\",\n  titleTextColor: \"#FFFFFF\",\n  titleSubtextColor: \"#949494\",\n  titleButtonColor: \"#FFFFFF\",\n  titleBackgroundColor: \"#111111\",\n  progressBarColor: \"#06C755\",\n  progressBackgroundColor: \"#111111\",\n  titleButtonAreaBackgroundColor: \"#1FFFFFFF\",\n  titleButtonAreaBorderColor: \"#26000000\",\n  baseBackgroundColor: \"#000000\",\n  baseTextColor: \"#FFFFFF\",\n  lightButtonBorderColor: \"rgba(255, 255, 255, 0.5)\"\n};\n\nfunction Be() {\n  var e;\n  Te(\"color-scheme\", ((null == (e = b()) ? void 0 : e.menuColorSetting) || {\n    adaptableColorSchemes: [\"light\"]\n  }).adaptableColorSchemes.join(\" \"));\n  var t = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  Se({\n    matches: null == t ? void 0 : t.matches,\n    media: null == t ? void 0 : t.media\n  }), t.addEventListener ? t.addEventListener(\"change\", Se) : t.addListener && t.addListener(Se);\n}\n\nfunction Se(t) {\n  var r = b(),\n      n = (null == r ? void 0 : r.menuColorSetting) || {\n    adaptableColorSchemes: [\"light\"],\n    lightModeColor: ye,\n    darkModeColor: Ie\n  },\n      o = n.adaptableColorSchemes,\n      i = n.lightModeColor,\n      a = n.darkModeColor,\n      s = o.includes(\"dark\");\n  t.matches && s ? xe(e(e({}, Ie), a)) : xe(e(e({}, ye), i));\n}\n\nfunction xe(e) {\n  var t = e.iconColor,\n      r = e.statusBarColor,\n      n = e.titleTextColor,\n      o = e.titleSubtextColor,\n      i = e.titleButtonColor,\n      l = e.titleBackgroundColor,\n      c = e.progressBarColor,\n      u = e.progressBackgroundColor,\n      f = e.titleButtonAreaBackgroundColor,\n      d = e.titleButtonAreaBorderColor,\n      h = e.baseBackgroundColor,\n      p = e.baseTextColor,\n      v = e.lightButtonBorderColor;\n  Te(\"--liff-base-background-color\", h), Te(\"--liff-base-text-color\", p), Te(\"--liff-base-background-rgb-color\", a(h)), Te(\"--liff-base-text-rgb-color\", a(p)), Te(\"--liff-light-button-border-color\", v), Te(\"--liff-title-text-color\", n), Te(\"--liff-title-background-color\", l), Te(\"--liff-title-button-color\", i), Te(\"--liff-icon-color\", t), Te(\"--liff-status-bar-color\", r), Te(\"--liff-title-subtext-color\", o), Te(\"--liff-progress-bar-color\", c), Te(\"--liff-progress-background-color\", u), Te(\"--liff-title-button-area-background-color\", s(f)), Te(\"--liff-title-button-area-border-color\", s(d));\n}\n\nfunction Te(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\n\nfunction Ae(e) {\n  return t(this, void 0, void 0, function () {\n    return r(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return [4, G()];\n\n        case 1:\n          return t.sent().install(e), [2];\n      }\n    });\n  });\n}\n\nfunction Ee() {\n  return t(this, void 0, void 0, function () {\n    return r(this, function (e) {\n      switch (e.label) {\n        case 0:\n          return [4, ue(fe(\"certs\"))];\n\n        case 1:\n          return [2, e.sent()];\n      }\n    });\n  });\n}\n\nfunction Le(e, n, o) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return [4, crypto.subtle.importKey(\"jwk\", e, {\n            name: \"ECDSA\",\n            namedCurve: \"P-256\"\n          }, !1, [\"verify\"])];\n\n        case 1:\n          return t = r.sent(), [4, crypto.subtle.verify({\n            name: \"ECDSA\",\n            hash: {\n              name: \"SHA-256\"\n            }\n          }, t, o, n)];\n\n        case 2:\n          return [2, r.sent()];\n      }\n    });\n  });\n}\n\nfunction Ne(e, o) {\n  return t(this, void 0, void 0, function () {\n    var t, i, a, s, f, d, h, p, v, m, w, b, g, k, C, F;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return t = e.split(\".\"), i = n(t, 3), a = i[0], s = i[1], f = i[2], d = JSON.parse(c.decode(a)), h = JSON.parse(c.decodeUnicode(s)), p = u(c.decode(f)), v = u(a + \".\" + s), [4, Ee()];\n\n        case 1:\n          if (m = r.sent(), !(w = m.keys.find(function (e) {\n            return e.kid === d.kid;\n          }))) return [3, 6];\n          if (delete w.alg, \"ES256\" !== d.alg) throw l(X, 'Invalid \"alg\" value in ID_TOKEN');\n          b = void 0, r.label = 2;\n\n        case 2:\n          return r.trys.push([2, 4,, 5]), [4, Le(w, v, p)];\n\n        case 3:\n          return b = r.sent(), [3, 5];\n\n        case 4:\n          throw g = r.sent(), l(X, \"Failed to use Crypto API to verify ID_TOKEN: \" + g);\n\n        case 5:\n          if (b) {\n            if (k = \"https://access.line.me\" !== h.iss, C = h.aud !== o, F = 1e3 * h.exp < Date.now(), k) throw l(X, 'Invalid \"iss\" value in ID_TOKEN');\n            if (C) throw l(X, 'Invalid \"aud\" value in ID_TOKEN');\n            if (F) throw l(X, 'Invalid \"exp\" value in ID_TOKEN');\n            return [2, h];\n          }\n\n          throw l(X, \"Invalid signature in ID_TOKEN\");\n\n        case 6:\n          throw l(X, 'Invalid \"kid\" value in ID_TOKEN');\n\n        case 7:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Ue(e) {\n  var t = e.split(\".\");\n  if (t[1]) try {\n    var r = t[1].replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return JSON.parse(window.atob(r));\n  } catch (n) {\n    return null;\n  }\n  return null;\n}\n\nfunction De(e) {\n  var t = e.pathname,\n      r = e.query,\n      n = \"liff://\" + t + (r ? \"?\" + d.stringify(r) : \"\");\n  location.href = n;\n}\n\nvar Oe = null;\n\nfunction Pe() {\n  \"boolean\" == typeof Oe && he.warn(\"liff.init is not expected to be called more than once\"), Oe = !!C() || !(!te() || d.parse(window.location.hash).feature_token || F()) && (_(!0), !0);\n}\n\nfunction We() {\n  return Boolean(Oe);\n}\n\nfunction Ke(e, n) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return (t = y()) ? [2, t] : e && n ? [4, oe({\n            msit: e,\n            mstVerifier: n\n          })] : [3, 2];\n\n        case 1:\n          return [2, r.sent().mst];\n\n        case 2:\n          return [2, null];\n      }\n    });\n  });\n}\n\nfunction Me(e) {\n  return ue(fe(\"apps\") + \"/\" + e + \"/featureToken\");\n}\n\nfunction Re(e) {\n  return t(this, void 0, void 0, function () {\n    var t, n, o, a;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return t = d.parse(window.location.hash), n = p({\n            access_token: I(),\n            context_token: B(),\n            feature_token: F(),\n            id_token: S(),\n            client_id: x(),\n            mst_challenge: T(),\n            mst_verifier: A(),\n            msit: E()\n          }, t), We() ? i() ? [4, Me(e)] : [3, 2] : [3, 3];\n\n        case 1:\n          o = r.sent().featureToken, n.feature_token || (n.feature_token = o), r.label = 2;\n\n        case 2:\n          (a = h(e)) && (n.client_id = a), r.label = 3;\n\n        case 3:\n          return [2, n];\n      }\n    });\n  });\n}\n\nfunction je(e) {\n  if (e.persisted && we(\"multipleLiffTransition\")) if (\"ios\" === be()) window.location.reload();else {\n    var t = L().liffId,\n        r = F();\n    if (!t) throw l(Q, \"Invalid LIFF ID.\");\n    if (!r) throw l(Y, \"Invalid featureToken for client features\");\n    De({\n      pathname: \"app/\" + t,\n      query: {\n        feature_token: r\n      }\n    });\n  }\n}\n\nfunction He(e, n) {\n  return t(this, void 0, void 0, function () {\n    var t, o;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return [4, de(e)];\n\n        case 1:\n          return t = r.sent().client_id, o = h(n), [2, t === o];\n      }\n    });\n  });\n}\n\nfunction Je(e, n) {\n  return t(this, void 0, void 0, function () {\n    var t, o, a, s, c, u, d, h, p, m, w, b, g;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return [4, new Promise(function (e) {\n            var t = pe();\n            if (!t || f(t, \"9.5.0\") < 0) e();else if (window._liff && window._liff.features) e();else {\n              he.debug(\"cannot find window._liff.features, listen to ready event\");\n\n              var r = function () {\n                he.debug(\"ready event is fired\"), me(\"ready\", r), e();\n              };\n\n              ve(\"ready\", r);\n            }\n          })];\n\n        case 1:\n          return r.sent(), Pe(), [4, Re(n.liffId)];\n\n        case 2:\n          if (t = r.sent(), o = t.access_token, a = t.context_token, s = t.feature_token, c = t.id_token, u = t.client_id, d = t.mst_verifier, h = t.mst_challenge, p = t.msit, a) {\n            if (\"string\" != typeof a) throw l(Q, \"Cannot get context token, perhaps there is an incorrect parameter in permanent link\");\n            W(Ue(a));\n          }\n\n          return !ne() && s && (!function (e, t) {\n            we(\"multipleLiffTransition\") && De({\n              pathname: \"app/\" + e,\n              query: {\n                feature_token: t\n              }\n            });\n          }(n.liffId, s), We() && O(s)), h && K(h), d && M(d), u && R(u), p && j(p), window.addEventListener(\"pageshow\", je), i() ? [3, 7] : s && o ? [3, 5] : We() ? (m = v(location.href, {\n            \"liff.hback\": \"2\"\n          }), e.login({\n            redirectUri: m\n          }), [4, new Promise(function () {})]) : [3, 4];\n\n        case 3:\n          r.sent(), r.label = 4;\n\n        case 4:\n          throw e.login(), l(Q, \"Failed to parse feature_token or access_token\");\n\n        case 5:\n          return [4, He(o, n.liffId)];\n\n        case 6:\n          if (!r.sent()) throw e.login(), l(Q, \"Failed to verify access_token\");\n          O(s), P(o), r.label = 7;\n\n        case 7:\n          return [4, Ke(p, d)];\n\n        case 8:\n          return (w = r.sent()) ? (D(w), [4, ie({\n            mst: w\n          })]) : [3, 10];\n\n        case 9:\n          (b = r.sent().data) && U(JSON.stringify(b)), r.label = 10;\n\n        case 10:\n          return c && !S() && H(c), c && u && !J() ? [4, Ne(c, u)] : [3, 12];\n\n        case 11:\n          (g = r.sent()) && N(g), r.label = 12;\n\n        case 12:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Ve(e) {\n  return t(this, void 0, void 0, function () {\n    var t, n, o, i, a, s, c;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          return t = fe(\"apps\"), n = t + \"/\" + e + \"/contextToken\", o = I(), i = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }, o && (i.Authorization = \"Bearer \" + o), [4, ue(n, {\n            headers: i\n          })];\n\n        case 1:\n          if (a = r.sent(), !(s = a.contextToken)) throw l(Q, \"Can not get context from server.\");\n          if (!(c = Ue(s))) throw l(Q, \"Invalid context token.\");\n          return [2, c];\n      }\n    });\n  });\n}\n\nfunction qe() {\n  return t(this, void 0, void 0, function () {\n    var e, t;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          if (!(e = L().liffId)) throw l(Q, \"Invalid LIFF ID.\");\n          return [4, Ve(e)];\n\n        case 1:\n          return t = r.sent(), W(t), [2];\n      }\n    });\n  });\n}\n\nfunction ze(e) {\n  return t(this, void 0, void 0, function () {\n    var n,\n        o,\n        i,\n        a = this;\n    return r(this, function (s) {\n      switch (s.label) {\n        case 0:\n          n = function () {\n            return t(a, void 0, void 0, function () {\n              var t, n, o, i, a, s;\n              return r(this, function (r) {\n                switch (r.label) {\n                  case 0:\n                    return [4, (l = L(), c = d.parse(window.location.search), u = g(), f = {\n                      grant_type: \"authorization_code\",\n                      client_id: c.liffClientId,\n                      appId: l.liffId,\n                      code: c.code,\n                      code_verifier: u.codeVerifier,\n                      redirect_uri: l.redirectUri || c.liffRedirectUri,\n                      id_token_key_type: \"JWK\"\n                    }, h = d.stringify(f), ue(fe(\"token\"), {\n                      method: \"POST\",\n                      headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n                      },\n                      body: h\n                    }))];\n\n                  case 1:\n                    return t = r.sent(), n = t.access_token, o = t.id_token, i = t.expires_in, R(e), P(n), q(new Date(Date.now() + 1e3 * i)), V(), o ? (H(o), [4, Ne(o, e)]) : [3, 3];\n\n                  case 2:\n                    (a = r.sent()) && N(a), r.label = 3;\n\n                  case 3:\n                    return (s = d.parse(location.hash).context_token) ? (W(Ue(s)), [3, 6]) : [3, 4];\n\n                  case 4:\n                    return [4, qe()];\n\n                  case 5:\n                    r.sent(), r.label = 6;\n\n                  case 6:\n                    return [2];\n                }\n\n                var l, c, u, f, h;\n              });\n            });\n          }, s.label = 1;\n\n        case 1:\n          return s.trys.push([1, 3,, 4]), [4, n()];\n\n        case 2:\n          return s.sent(), [3, 4];\n\n        case 3:\n          throw o = s.sent(), i = o, V(), i;\n\n        case 4:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Ge() {\n  return t(this, void 0, void 0, function () {\n    var e,\n        n,\n        o,\n        a,\n        s,\n        l,\n        c = this;\n    return r(this, function (u) {\n      switch (u.label) {\n        case 0:\n          return (n = le()) ? [3, 2] : [4, ce(Ce.SUB)];\n\n        case 1:\n          n = u.sent(), u.label = 2;\n\n        case 2:\n          return (e = n).isReady() ? (o = m(8), [4, e.getData(\"appData\")]) : [3, 8];\n\n        case 3:\n          return a = u.sent(), s = a.eventName, l = a.data, s !== ke.NOT_FOUND ? [3, 6] : [4, e.teardown()];\n\n        case 4:\n          return u.sent(), [4, Ge()];\n\n        case 5:\n          return [2, u.sent()];\n\n        case 6:\n          l && U(JSON.stringify(l)), u.label = 7;\n\n        case 7:\n          return e.listen(function (n) {\n            return t(c, void 0, void 0, function () {\n              var t, i;\n              return r(this, function (r) {\n                return t = n.context, i = t.data, t.eventName === $.INIT && (null == i ? void 0 : i.subWindowId) !== o && ge(), t.eventName !== $.CANCEL && t.eventName !== $.SUBMIT || e.teardown(), [2];\n              });\n            });\n          }), i() && e.send({\n            eventName: $.INIT,\n            data: {\n              subWindowId: o,\n              hasOpener: !!window.opener\n            }\n          }), [3, 10];\n\n        case 8:\n          return ae() ? [3, 10] : [4, new Promise(function (e) {\n            window.addEventListener(\"message\", function (e) {\n              return function t(r) {\n                var n = r.data,\n                    o = r.source,\n                    i = r.origin;\n\n                if (n) {\n                  var a = n.type,\n                      s = n.message;\n                  a === Z && (window.removeEventListener(\"message\", t), s && U(s), se(i), o && o.postMessage && o.postMessage({\n                    status: Z\n                  }, i), e());\n                }\n              };\n            }(e));\n          })];\n\n        case 9:\n          return [2, u.sent()];\n\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\n\nvar Qe = new (function () {\n  function e() {\n    var e = this;\n    this.getAndValidateContext = function () {\n      var e = b();\n      if (!e) throw l(Q, \"Could not get Context from server.\");\n      if (!e.endpointUrl) throw l(Q, \"Could not get endpointUrl from server.\");\n      if (!e.permanentLinkPattern) throw l(Q, \"Could not get permanentLinkPattern from server.\");\n      return e;\n    }, this.decodeState = function (t) {\n      var r = e.getAndValidateContext();\n      t = t.replace(/\\n/g, \"%0D%0A\");\n      var n = !r.endpointUrl.startsWith(\"/?\") && r.endpointUrl.includes(\"/?\") || !r.endpointUrl.startsWith(\"/#\") && r.endpointUrl.includes(\"/#\") || r.endpointUrl.endsWith(\"/\") || !t.startsWith(\"/?\") && t.includes(\"/?\") || !t.startsWith(\"/#\") && t.includes(\"/#\") || t.endsWith(\"/\"),\n          o = new URL(r.endpointUrl),\n          i = o.origin,\n          a = o.pathname,\n          s = o.search,\n          l = new URL(\"\" + i + e.attachSlashAtStart(t)),\n          c = l.pathname,\n          u = l.search,\n          f = l.hash,\n          d = \"\" + s + (s ? u.replace(/\\?/g, \"&\") : u),\n          h = (\"\" + a + e.attachSlashAtStart(c)).replace(\"//\", \"/\");\n      return (h = e.attachSlashAtStart(\"\" + h)).endsWith(\"/\") && !n && (h = h.substring(0, h.length - 1)), (\"\" + i + h + d + f).replace(/%0D%0A/g, \"\\n\");\n    };\n  }\n\n  return e.prototype.attachSlashAtStart = function (e) {\n    return (e && e.length > 0 && !e.startsWith(\"/\") ? \"/\" : \"\") + e;\n  }, e.prototype.invoke = function () {\n    return t(this, void 0, void 0, function () {\n      var e, t, n, o, i;\n      return r(this, function (r) {\n        switch (r.label) {\n          case 0:\n            if (e = d.parse(window.location.search), \"string\" != typeof (t = e[\"liff.state\"])) return [2];\n            r.label = 1;\n\n          case 1:\n            return r.trys.push([1, 4,, 5]), n = location.href, (o = this.decodeState(t)) === n ? [3, 3] : (e[\"liff.hback\"] ? location.replace(v(o, {\n              \"liff.hback\": e[\"liff.hback\"]\n            })) : location.replace(o), [4, new Promise(function () {})]);\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return [3, 5];\n\n          case 4:\n            if ((i = r.sent()).code === Q) throw i;\n            return he.debug(i), [3, 5];\n\n          case 5:\n            return [2];\n        }\n      });\n    });\n  }, e;\n}())();\n\nfunction Xe(e, n, o) {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return r(this, function (r) {\n      switch (r.label) {\n        case 0:\n          if (!n.liffId) throw l(ee, \"liffId is necessary for liff.init()\");\n          return z(n), !te() && i() && (k() || re()), t = d.parse(window.location.search), !ne() || te() ? [3, 2] : [4, Ge()];\n\n        case 1:\n          r.sent(), r.label = 2;\n\n        case 2:\n          if (t.error && t.liffOAuth2Error) throw c = t.error, u = t.error_description, f = u.replace(/\\+/g, \" \"), l(Q, c + \": \" + f);\n          return a = t.code, s = g(), Boolean(a && !i() && s && s.codeVerifier) ? [4, ze(t.liffClientId)] : [3, 4];\n\n        case 3:\n          r.sent(), r.label = 4;\n\n        case 4:\n          return te() ? [4, Je(e, n)] : [3, 6];\n\n        case 5:\n          return r.sent(), [3, 8];\n\n        case 6:\n          return i() ? [3, 8] : [4, qe()];\n\n        case 7:\n          r.sent(), r.label = 8;\n\n        case 8:\n          return [4, Qe.invoke()];\n\n        case 9:\n          return r.sent(), [4, o()];\n\n        case 10:\n          return r.sent(), w(window.location.href), [2];\n      }\n\n      var a, s, c, u, f;\n    });\n  });\n}\n\nvar Ye = function (e, t) {\n  return new Promise(function (r, n) {\n    if (e) {\n      var o = document.createElement(\"script\");\n      o.type = \"module\", o.onload = function () {\n        r();\n      }, o.src = e, document.head.appendChild(o);\n    } else n(l(ee, t));\n  });\n};\n\nfunction Ze() {\n  return t(this, void 0, void 0, function () {\n    var e;\n    return r(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return te() || \"android\" !== be() || (e = d.parse(window.location.search))[Fe] || !(e.liffClientId && \"\" === document.referrer || document.referrer.includes(\"liffClientId\")) || e.liffIsEscapedFromApp ? [3, 4] : [4, Ye(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js\", \"LUI_VENDOR_URL is not defined\")];\n\n        case 1:\n          return t.sent(), [4, Ye(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js\", \"LUI_ALERT_URL is not defined\")];\n\n        case 2:\n          return t.sent(), [4, (r = m(6), new Promise(function () {\n            var e = document.createElement(\"div\");\n            e.innerHTML = '<lui-alert id=\"liffAlert-' + r + '\" shown title=\"Login successfully!\" message=\"Continue to launch LIFF app!\"></lui-alert>', document.body.appendChild(e);\n            var t = document.getElementById(\"liffAlert-\" + r);\n            t && t.addEventListener(\"lui-button-click\", function () {\n              var e = window.open(window.location.href + \"&liffIsEscapedFromApp=true\", \"_blank\");\n              e && (e.location.href = window.location.href + \"&liffIsEscapedFromApp=true\", window.close());\n            });\n          }))];\n\n        case 3:\n          t.sent(), t.label = 4;\n\n        case 4:\n          return [2];\n      }\n\n      var r;\n    });\n  });\n}\n\nvar $e = function () {\n  function e() {\n    this.hooks = {\n      before: new _e(),\n      after: new _e()\n    }, this.internalHooks = {\n      beforeFinished: new _e(),\n      beforeSuccess: new _e(),\n      error: new _e()\n    };\n  }\n\n  return Object.defineProperty(e.prototype, \"name\", {\n    get: function () {\n      return \"init\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), e.prototype.install = function (e) {\n    var t = e.liff;\n    return this.liff = t, this.init.bind(this);\n  }, e.prototype.init = function (e, n, a) {\n    return t(this, void 0, void 0, function () {\n      var t;\n      return r(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return [4, this.hooks.before.call()];\n\n          case 1:\n            r.sent(), s = this.liff, window && !window.liff && (window.liff = s), r.label = 2;\n\n          case 2:\n            return r.trys.push([2, 9,, 11]), [4, Promise.all([Ae(this.liff), Xe(this.liff, e, this.internalHooks.beforeFinished.call)])];\n\n          case 3:\n            return r.sent(), Be(), [4, this.internalHooks.beforeSuccess.call()];\n\n          case 4:\n            return r.sent(), !e.withLoginOnExternalBrowser || i() ? [3, 6] : (this.liff.login(), [4, new Promise(function () {})]);\n\n          case 5:\n            r.sent(), r.label = 6;\n\n          case 6:\n            return [4, Ze()];\n\n          case 7:\n            return r.sent(), [4, this.hooks.after.call()];\n\n          case 8:\n            return r.sent(), \"function\" == typeof n && n(), o(), [3, 11];\n\n          case 9:\n            return t = r.sent(), [4, this.internalHooks.error.call(t)];\n\n          case 10:\n            throw r.sent(), \"function\" == typeof a && a(t), t;\n\n          case 11:\n            return [2];\n        }\n\n        var s;\n      });\n    });\n  }, e;\n}();\n\nexport { $e as InitModule };","map":{"version":3,"names":["__assign","e","__awaiter","t","__generator","r","__read","n","done","o","isLoggedIn","i","convertHexToRgb","a","convertArgbToRgba","s","createLiffError","l","base64Url","c","convertArrayBuffer","u","compareVersion","f","qs","d","extractChannelIdFromLiffId","h","objectAssignKeyOnlyWithValue","p","addParamsToUrl","v","randomAlphaNumericString","m","replaceUrlCredentialRemoved","w","getContext","b","getLoginTmp","g","getExpireTime","k","getIsSubsequentLiffApp","C","getFeatureToken","F","setIsSubsequentLiffApp","_","getMST","y","getAccessToken","I","getRawContext","B","getIDToken","S","getClientId","x","getMSTChallenge","T","getMSTVerifier","A","getMSIT","E","getConfig","L","setDecodedIDToken","N","setAppData","U","setMST","D","setFeatureToken","O","setAccessToken","P","setContext","W","setMSTChallenge","K","setMSTVerifier","M","setClientId","R","setMSIT","j","setIDToken","H","getDecodedIDToken","J","removeLoginTmp","V","setExpireTime","q","setConfig","z","load","G","INIT_FAILED","Q","INVALID_ID_TOKEN","X","FORBIDDEN","Y","SUB_WINDOW_HEALTH_CHECK_MESSAGE","Z","SUB_WINDOW_STATUS","$","INVALID_CONFIG","ee","isInClient","te","logout","re","isSubWindow","ne","getMSTByMSIT","oe","getAppData","ie","getMainWindowOrigin","ae","setMainWindowOrigin","se","getMessageBus","le","initMessageBus","ce","fetch","ue","getEndPoint","fe","verifyAccessToken","de","logger","he","getLineVersion","pe","addListener","ve","removeListener","me","isApiAvailable","we","getOS","be","closeWindow","ge","EVENT_NAME","ke","WINDOW","Ce","IDENTIFIER_KEY","Fe","AsyncHook","_e","ye","iconColor","statusBarColor","titleTextColor","titleSubtextColor","titleButtonColor","titleBackgroundColor","progressBarColor","progressBackgroundColor","titleButtonAreaBackgroundColor","titleButtonAreaBorderColor","baseBackgroundColor","baseTextColor","lightButtonBorderColor","Ie","Be","Te","menuColorSetting","adaptableColorSchemes","join","window","matchMedia","Se","matches","media","addEventListener","lightModeColor","darkModeColor","includes","xe","document","documentElement","style","setProperty","Ae","label","sent","install","Ee","Le","crypto","subtle","importKey","name","namedCurve","verify","hash","Ne","split","JSON","parse","decode","decodeUnicode","keys","find","kid","alg","trys","push","iss","aud","exp","Date","now","Ue","replace","atob","De","pathname","query","stringify","location","href","Oe","Pe","warn","feature_token","We","Boolean","Ke","msit","mstVerifier","mst","Me","Re","access_token","context_token","id_token","client_id","mst_challenge","mst_verifier","featureToken","je","persisted","reload","liffId","He","Je","Promise","_liff","features","debug","login","redirectUri","data","Ve","Accept","Authorization","headers","contextToken","qe","ze","search","grant_type","liffClientId","appId","code","code_verifier","codeVerifier","redirect_uri","liffRedirectUri","id_token_key_type","method","body","expires_in","Ge","SUB","isReady","getData","eventName","NOT_FOUND","teardown","listen","context","INIT","subWindowId","CANCEL","SUBMIT","send","hasOpener","opener","source","origin","type","message","removeEventListener","postMessage","status","Qe","getAndValidateContext","endpointUrl","permanentLinkPattern","decodeState","startsWith","endsWith","URL","attachSlashAtStart","substring","length","prototype","invoke","Xe","error","liffOAuth2Error","error_description","Ye","createElement","onload","src","head","appendChild","Ze","referrer","liffIsEscapedFromApp","innerHTML","getElementById","open","close","$e","hooks","before","after","internalHooks","beforeFinished","beforeSuccess","Object","defineProperty","get","enumerable","configurable","liff","init","bind","call","all","withLoginOnExternalBrowser","InitModule"],"sources":["C:/Users/ASUS/Desktop/linetest/node_modules/@liff/init/lib/index.es.js"],"sourcesContent":["import{__assign as e,__awaiter as t,__generator as r,__read as n}from\"tslib\";import{done as o}from\"@liff/ready\";import{isLoggedIn as i}from\"@liff/is-logged-in\";import{convertHexToRgb as a,convertArgbToRgba as s,createLiffError as l,base64Url as c,convertArrayBuffer as u,compareVersion as f,qs as d,extractChannelIdFromLiffId as h,objectAssignKeyOnlyWithValue as p,addParamsToUrl as v,randomAlphaNumericString as m,replaceUrlCredentialRemoved as w}from\"@liff/util\";import{getContext as b,getLoginTmp as g,getExpireTime as k,getIsSubsequentLiffApp as C,getFeatureToken as F,setIsSubsequentLiffApp as _,getMST as y,getAccessToken as I,getRawContext as B,getIDToken as S,getClientId as x,getMSTChallenge as T,getMSTVerifier as A,getMSIT as E,getConfig as L,setDecodedIDToken as N,setAppData as U,setMST as D,setFeatureToken as O,setAccessToken as P,setContext as W,setMSTChallenge as K,setMSTVerifier as M,setClientId as R,setMSIT as j,setIDToken as H,getDecodedIDToken as J,removeLoginTmp as V,setExpireTime as q,setConfig as z}from\"@liff/store\";import{load as G}from\"@liff/extensions\";import{INIT_FAILED as Q,INVALID_ID_TOKEN as X,FORBIDDEN as Y,SUB_WINDOW_HEALTH_CHECK_MESSAGE as Z,SUB_WINDOW_STATUS as $,INVALID_CONFIG as ee}from\"@liff/consts\";import{isInClient as te}from\"@liff/is-in-client\";import{logout as re}from\"@liff/logout\";import{isSubWindow as ne}from\"@liff/is-sub-window\";import{getMSTByMSIT as oe,getAppData as ie,getMainWindowOrigin as ae,setMainWindowOrigin as se,getMessageBus as le,initMessageBus as ce}from\"@liff/sub-window\";import{fetch as ue,getEndPoint as fe,verifyAccessToken as de}from\"@liff/server-api\";import{logger as he}from\"@liff/logger\";import{getLineVersion as pe}from\"@liff/get-line-version\";import{addListener as ve,removeListener as me}from\"@liff/native-bridge\";import{isApiAvailable as we}from\"@liff/is-api-available\";import{getOS as be}from\"@liff/get-os\";import{closeWindow as ge}from\"@liff/close-window\";import{EVENT_NAME as ke,WINDOW as Ce,IDENTIFIER_KEY as Fe}from\"@liff/message-bus\";import{AsyncHook as _e}from\"@liff/hooks\";var ye={iconColor:\"#111111\",statusBarColor:\"BLACK\",titleTextColor:\"#111111\",titleSubtextColor:\"#B7B7B7\",titleButtonColor:\"#111111\",titleBackgroundColor:\"#FFFFFF\",progressBarColor:\"#06C755\",progressBackgroundColor:\"#FFFFFF\",titleButtonAreaBackgroundColor:\"#1FFFFFFF\",titleButtonAreaBorderColor:\"#26000000\",baseBackgroundColor:\"#FFFFFF\",baseTextColor:\"#000000\",lightButtonBorderColor:\"rgba(0, 0, 0, 0.15)\"},Ie={iconColor:\"#FFFFFF\",statusBarColor:\"WHITE\",titleTextColor:\"#FFFFFF\",titleSubtextColor:\"#949494\",titleButtonColor:\"#FFFFFF\",titleBackgroundColor:\"#111111\",progressBarColor:\"#06C755\",progressBackgroundColor:\"#111111\",titleButtonAreaBackgroundColor:\"#1FFFFFFF\",titleButtonAreaBorderColor:\"#26000000\",baseBackgroundColor:\"#000000\",baseTextColor:\"#FFFFFF\",lightButtonBorderColor:\"rgba(255, 255, 255, 0.5)\"};function Be(){var e;Te(\"color-scheme\",((null==(e=b())?void 0:e.menuColorSetting)||{adaptableColorSchemes:[\"light\"]}).adaptableColorSchemes.join(\" \"));var t=window.matchMedia(\"(prefers-color-scheme: dark)\");Se({matches:null==t?void 0:t.matches,media:null==t?void 0:t.media}),t.addEventListener?t.addEventListener(\"change\",Se):t.addListener&&t.addListener(Se)}function Se(t){var r=b(),n=(null==r?void 0:r.menuColorSetting)||{adaptableColorSchemes:[\"light\"],lightModeColor:ye,darkModeColor:Ie},o=n.adaptableColorSchemes,i=n.lightModeColor,a=n.darkModeColor,s=o.includes(\"dark\");t.matches&&s?xe(e(e({},Ie),a)):xe(e(e({},ye),i))}function xe(e){var t=e.iconColor,r=e.statusBarColor,n=e.titleTextColor,o=e.titleSubtextColor,i=e.titleButtonColor,l=e.titleBackgroundColor,c=e.progressBarColor,u=e.progressBackgroundColor,f=e.titleButtonAreaBackgroundColor,d=e.titleButtonAreaBorderColor,h=e.baseBackgroundColor,p=e.baseTextColor,v=e.lightButtonBorderColor;Te(\"--liff-base-background-color\",h),Te(\"--liff-base-text-color\",p),Te(\"--liff-base-background-rgb-color\",a(h)),Te(\"--liff-base-text-rgb-color\",a(p)),Te(\"--liff-light-button-border-color\",v),Te(\"--liff-title-text-color\",n),Te(\"--liff-title-background-color\",l),Te(\"--liff-title-button-color\",i),Te(\"--liff-icon-color\",t),Te(\"--liff-status-bar-color\",r),Te(\"--liff-title-subtext-color\",o),Te(\"--liff-progress-bar-color\",c),Te(\"--liff-progress-background-color\",u),Te(\"--liff-title-button-area-background-color\",s(f)),Te(\"--liff-title-button-area-border-color\",s(d))}function Te(e,t){document.documentElement.style.setProperty(e,t)}function Ae(e){return t(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,G()];case 1:return t.sent().install(e),[2]}}))}))}function Ee(){return t(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,ue(fe(\"certs\"))];case 1:return[2,e.sent()]}}))}))}function Le(e,n,o){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return[4,crypto.subtle.importKey(\"jwk\",e,{name:\"ECDSA\",namedCurve:\"P-256\"},!1,[\"verify\"])];case 1:return t=r.sent(),[4,crypto.subtle.verify({name:\"ECDSA\",hash:{name:\"SHA-256\"}},t,o,n)];case 2:return[2,r.sent()]}}))}))}function Ne(e,o){return t(this,void 0,void 0,(function(){var t,i,a,s,f,d,h,p,v,m,w,b,g,k,C,F;return r(this,(function(r){switch(r.label){case 0:return t=e.split(\".\"),i=n(t,3),a=i[0],s=i[1],f=i[2],d=JSON.parse(c.decode(a)),h=JSON.parse(c.decodeUnicode(s)),p=u(c.decode(f)),v=u(a+\".\"+s),[4,Ee()];case 1:if(m=r.sent(),!(w=m.keys.find((function(e){return e.kid===d.kid}))))return[3,6];if(delete w.alg,\"ES256\"!==d.alg)throw l(X,'Invalid \"alg\" value in ID_TOKEN');b=void 0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Le(w,v,p)];case 3:return b=r.sent(),[3,5];case 4:throw g=r.sent(),l(X,\"Failed to use Crypto API to verify ID_TOKEN: \"+g);case 5:if(b){if(k=\"https://access.line.me\"!==h.iss,C=h.aud!==o,F=1e3*h.exp<Date.now(),k)throw l(X,'Invalid \"iss\" value in ID_TOKEN');if(C)throw l(X,'Invalid \"aud\" value in ID_TOKEN');if(F)throw l(X,'Invalid \"exp\" value in ID_TOKEN');return[2,h]}throw l(X,\"Invalid signature in ID_TOKEN\");case 6:throw l(X,'Invalid \"kid\" value in ID_TOKEN');case 7:return[2]}}))}))}function Ue(e){var t=e.split(\".\");if(t[1])try{var r=t[1].replace(/-/g,\"+\").replace(/_/g,\"/\");return JSON.parse(window.atob(r))}catch(n){return null}return null}function De(e){var t=e.pathname,r=e.query,n=\"liff://\"+t+(r?\"?\"+d.stringify(r):\"\");location.href=n}var Oe=null;function Pe(){\"boolean\"==typeof Oe&&he.warn(\"liff.init is not expected to be called more than once\"),Oe=!!C()||!(!te()||d.parse(window.location.hash).feature_token||F())&&(_(!0),!0)}function We(){return Boolean(Oe)}function Ke(e,n){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return(t=y())?[2,t]:e&&n?[4,oe({msit:e,mstVerifier:n})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}}))}))}function Me(e){return ue(fe(\"apps\")+\"/\"+e+\"/featureToken\")}function Re(e){return t(this,void 0,void 0,(function(){var t,n,o,a;return r(this,(function(r){switch(r.label){case 0:return t=d.parse(window.location.hash),n=p({access_token:I(),context_token:B(),feature_token:F(),id_token:S(),client_id:x(),mst_challenge:T(),mst_verifier:A(),msit:E()},t),We()?i()?[4,Me(e)]:[3,2]:[3,3];case 1:o=r.sent().featureToken,n.feature_token||(n.feature_token=o),r.label=2;case 2:(a=h(e))&&(n.client_id=a),r.label=3;case 3:return[2,n]}}))}))}function je(e){if(e.persisted&&we(\"multipleLiffTransition\"))if(\"ios\"===be())window.location.reload();else{var t=L().liffId,r=F();if(!t)throw l(Q,\"Invalid LIFF ID.\");if(!r)throw l(Y,\"Invalid featureToken for client features\");De({pathname:\"app/\"+t,query:{feature_token:r}})}}function He(e,n){return t(this,void 0,void 0,(function(){var t,o;return r(this,(function(r){switch(r.label){case 0:return[4,de(e)];case 1:return t=r.sent().client_id,o=h(n),[2,t===o]}}))}))}function Je(e,n){return t(this,void 0,void 0,(function(){var t,o,a,s,c,u,d,h,p,m,w,b,g;return r(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e){var t=pe();if(!t||f(t,\"9.5.0\")<0)e();else if(window._liff&&window._liff.features)e();else{he.debug(\"cannot find window._liff.features, listen to ready event\");var r=function(){he.debug(\"ready event is fired\"),me(\"ready\",r),e()};ve(\"ready\",r)}}))];case 1:return r.sent(),Pe(),[4,Re(n.liffId)];case 2:if(t=r.sent(),o=t.access_token,a=t.context_token,s=t.feature_token,c=t.id_token,u=t.client_id,d=t.mst_verifier,h=t.mst_challenge,p=t.msit,a){if(\"string\"!=typeof a)throw l(Q,\"Cannot get context token, perhaps there is an incorrect parameter in permanent link\");W(Ue(a))}return!ne()&&s&&(!function(e,t){we(\"multipleLiffTransition\")&&De({pathname:\"app/\"+e,query:{feature_token:t}})}(n.liffId,s),We()&&O(s)),h&&K(h),d&&M(d),u&&R(u),p&&j(p),window.addEventListener(\"pageshow\",je),i()?[3,7]:s&&o?[3,5]:We()?(m=v(location.href,{\"liff.hback\":\"2\"}),e.login({redirectUri:m}),[4,new Promise((function(){}))]):[3,4];case 3:r.sent(),r.label=4;case 4:throw e.login(),l(Q,\"Failed to parse feature_token or access_token\");case 5:return[4,He(o,n.liffId)];case 6:if(!r.sent())throw e.login(),l(Q,\"Failed to verify access_token\");O(s),P(o),r.label=7;case 7:return[4,Ke(p,d)];case 8:return(w=r.sent())?(D(w),[4,ie({mst:w})]):[3,10];case 9:(b=r.sent().data)&&U(JSON.stringify(b)),r.label=10;case 10:return c&&!S()&&H(c),c&&u&&!J()?[4,Ne(c,u)]:[3,12];case 11:(g=r.sent())&&N(g),r.label=12;case 12:return[2]}}))}))}function Ve(e){return t(this,void 0,void 0,(function(){var t,n,o,i,a,s,c;return r(this,(function(r){switch(r.label){case 0:return t=fe(\"apps\"),n=t+\"/\"+e+\"/contextToken\",o=I(),i={\"Content-Type\":\"application/json\",Accept:\"application/json\"},o&&(i.Authorization=\"Bearer \"+o),[4,ue(n,{headers:i})];case 1:if(a=r.sent(),!(s=a.contextToken))throw l(Q,\"Can not get context from server.\");if(!(c=Ue(s)))throw l(Q,\"Invalid context token.\");return[2,c]}}))}))}function qe(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:if(!(e=L().liffId))throw l(Q,\"Invalid LIFF ID.\");return[4,Ve(e)];case 1:return t=r.sent(),W(t),[2]}}))}))}function ze(e){return t(this,void 0,void 0,(function(){var n,o,i,a=this;return r(this,(function(s){switch(s.label){case 0:n=function(){return t(a,void 0,void 0,(function(){var t,n,o,i,a,s;return r(this,(function(r){switch(r.label){case 0:return[4,(l=L(),c=d.parse(window.location.search),u=g(),f={grant_type:\"authorization_code\",client_id:c.liffClientId,appId:l.liffId,code:c.code,code_verifier:u.codeVerifier,redirect_uri:l.redirectUri||c.liffRedirectUri,id_token_key_type:\"JWK\"},h=d.stringify(f),ue(fe(\"token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=UTF-8\"},body:h}))];case 1:return t=r.sent(),n=t.access_token,o=t.id_token,i=t.expires_in,R(e),P(n),q(new Date(Date.now()+1e3*i)),V(),o?(H(o),[4,Ne(o,e)]):[3,3];case 2:(a=r.sent())&&N(a),r.label=3;case 3:return(s=d.parse(location.hash).context_token)?(W(Ue(s)),[3,6]):[3,4];case 4:return[4,qe()];case 5:r.sent(),r.label=6;case 6:return[2]}var l,c,u,f,h}))}))},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n()];case 2:return s.sent(),[3,4];case 3:throw o=s.sent(),i=o,V(),i;case 4:return[2]}}))}))}function Ge(){return t(this,void 0,void 0,(function(){var e,n,o,a,s,l,c=this;return r(this,(function(u){switch(u.label){case 0:return(n=le())?[3,2]:[4,ce(Ce.SUB)];case 1:n=u.sent(),u.label=2;case 2:return(e=n).isReady()?(o=m(8),[4,e.getData(\"appData\")]):[3,8];case 3:return a=u.sent(),s=a.eventName,l=a.data,s!==ke.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return u.sent(),[4,Ge()];case 5:return[2,u.sent()];case 6:l&&U(JSON.stringify(l)),u.label=7;case 7:return e.listen((function(n){return t(c,void 0,void 0,(function(){var t,i;return r(this,(function(r){return t=n.context,i=t.data,t.eventName===$.INIT&&(null==i?void 0:i.subWindowId)!==o&&ge(),t.eventName!==$.CANCEL&&t.eventName!==$.SUBMIT||e.teardown(),[2]}))}))})),i()&&e.send({eventName:$.INIT,data:{subWindowId:o,hasOpener:!!window.opener}}),[3,10];case 8:return ae()?[3,10]:[4,new Promise((function(e){window.addEventListener(\"message\",function(e){return function t(r){var n=r.data,o=r.source,i=r.origin;if(n){var a=n.type,s=n.message;a===Z&&(window.removeEventListener(\"message\",t),s&&U(s),se(i),o&&o.postMessage&&o.postMessage({status:Z},i),e())}}}(e))}))];case 9:return[2,u.sent()];case 10:return[2]}}))}))}var Qe=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=b();if(!e)throw l(Q,\"Could not get Context from server.\");if(!e.endpointUrl)throw l(Q,\"Could not get endpointUrl from server.\");if(!e.permanentLinkPattern)throw l(Q,\"Could not get permanentLinkPattern from server.\");return e},this.decodeState=function(t){var r=e.getAndValidateContext();t=t.replace(/\\n/g,\"%0D%0A\");var n=!r.endpointUrl.startsWith(\"/?\")&&r.endpointUrl.includes(\"/?\")||!r.endpointUrl.startsWith(\"/#\")&&r.endpointUrl.includes(\"/#\")||r.endpointUrl.endsWith(\"/\")||!t.startsWith(\"/?\")&&t.includes(\"/?\")||!t.startsWith(\"/#\")&&t.includes(\"/#\")||t.endsWith(\"/\"),o=new URL(r.endpointUrl),i=o.origin,a=o.pathname,s=o.search,l=new URL(\"\"+i+e.attachSlashAtStart(t)),c=l.pathname,u=l.search,f=l.hash,d=\"\"+s+(s?u.replace(/\\?/g,\"&\"):u),h=(\"\"+a+e.attachSlashAtStart(c)).replace(\"//\",\"/\");return(h=e.attachSlashAtStart(\"\"+h)).endsWith(\"/\")&&!n&&(h=h.substring(0,h.length-1)),(\"\"+i+h+d+f).replace(/%0D%0A/g,\"\\n\")}}return e.prototype.attachSlashAtStart=function(e){return(e&&e.length>0&&!e.startsWith(\"/\")?\"/\":\"\")+e},e.prototype.invoke=function(){return t(this,void 0,void 0,(function(){var e,t,n,o,i;return r(this,(function(r){switch(r.label){case 0:if(e=d.parse(window.location.search),\"string\"!=typeof(t=e[\"liff.state\"]))return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),n=location.href,(o=this.decodeState(t))===n?[3,3]:(e[\"liff.hback\"]?location.replace(v(o,{\"liff.hback\":e[\"liff.hback\"]})):location.replace(o),[4,new Promise((function(){}))]);case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if((i=r.sent()).code===Q)throw i;return he.debug(i),[3,5];case 5:return[2]}}))}))},e}());function Xe(e,n,o){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:if(!n.liffId)throw l(ee,\"liffId is necessary for liff.init()\");return z(n),!te()&&i()&&(k()||re()),t=d.parse(window.location.search),!ne()||te()?[3,2]:[4,Ge()];case 1:r.sent(),r.label=2;case 2:if(t.error&&t.liffOAuth2Error)throw c=t.error,u=t.error_description,f=u.replace(/\\+/g,\" \"),l(Q,c+\": \"+f);return a=t.code,s=g(),Boolean(a&&!i()&&s&&s.codeVerifier)?[4,ze(t.liffClientId)]:[3,4];case 3:r.sent(),r.label=4;case 4:return te()?[4,Je(e,n)]:[3,6];case 5:return r.sent(),[3,8];case 6:return i()?[3,8]:[4,qe()];case 7:r.sent(),r.label=8;case 8:return[4,Qe.invoke()];case 9:return r.sent(),[4,o()];case 10:return r.sent(),w(window.location.href),[2]}var a,s,c,u,f}))}))}var Ye=function(e,t){return new Promise((function(r,n){if(e){var o=document.createElement(\"script\");o.type=\"module\",o.onload=function(){r()},o.src=e,document.head.appendChild(o)}else n(l(ee,t))}))};function Ze(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return te()||\"android\"!==be()||((e=d.parse(window.location.search))[Fe]||!(e.liffClientId&&\"\"===document.referrer||document.referrer.includes(\"liffClientId\"))||e.liffIsEscapedFromApp)?[3,4]:[4,Ye(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js\",\"LUI_VENDOR_URL is not defined\")];case 1:return t.sent(),[4,Ye(\"https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js\",\"LUI_ALERT_URL is not defined\")];case 2:return t.sent(),[4,(r=m(6),new Promise((function(){var e=document.createElement(\"div\");e.innerHTML='<lui-alert id=\"liffAlert-'+r+'\" shown title=\"Login successfully!\" message=\"Continue to launch LIFF app!\"></lui-alert>',document.body.appendChild(e);var t=document.getElementById(\"liffAlert-\"+r);t&&t.addEventListener(\"lui-button-click\",(function(){var e=window.open(window.location.href+\"&liffIsEscapedFromApp=true\",\"_blank\");e&&(e.location.href=window.location.href+\"&liffIsEscapedFromApp=true\",window.close())}))})))];case 3:t.sent(),t.label=4;case 4:return[2]}var r}))}))}var $e=function(){function e(){this.hooks={before:new _e,after:new _e},this.internalHooks={beforeFinished:new _e,beforeSuccess:new _e,error:new _e}}return Object.defineProperty(e.prototype,\"name\",{get:function(){return\"init\"},enumerable:!1,configurable:!0}),e.prototype.install=function(e){var t=e.liff;return this.liff=t,this.init.bind(this)},e.prototype.init=function(e,n,a){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return[4,this.hooks.before.call()];case 1:r.sent(),s=this.liff,window&&!window.liff&&(window.liff=s),r.label=2;case 2:return r.trys.push([2,9,,11]),[4,Promise.all([Ae(this.liff),Xe(this.liff,e,this.internalHooks.beforeFinished.call)])];case 3:return r.sent(),Be(),[4,this.internalHooks.beforeSuccess.call()];case 4:return r.sent(),!e.withLoginOnExternalBrowser||i()?[3,6]:(this.liff.login(),[4,new Promise((function(){}))]);case 5:r.sent(),r.label=6;case 6:return[4,Ze()];case 7:return r.sent(),[4,this.hooks.after.call()];case 8:return r.sent(),\"function\"==typeof n&&n(),o(),[3,11];case 9:return t=r.sent(),[4,this.internalHooks.error.call(t)];case 10:throw r.sent(),\"function\"==typeof a&&a(t),t;case 11:return[2]}var s}))}))},e}();export{$e as InitModule};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}